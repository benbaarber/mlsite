(()=>{"use strict";var e={n:n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},d:(n,t)=>{for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n)};const n=require("express");var t=e.n(n);const r=require("body-parser");var s=e.n(r);const i=require("dotenv");var o=e.n(i);const a=require("cors");var u=e.n(a);const c=require("mongoose");var l=e.n(c);const d=require("path");var f=e.n(d),h=function(e,n,t,r){return new(t||(t=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var n;e.done?s(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,a)}u((r=r.apply(e,n||[])).next())}))},p=function(e,n){var t,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(o=0)),o;)try{if(t=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=n.call(e,o)}catch(e){a=[6,e],r=0}finally{t=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},v=new c.Schema({player:{type:String,required:!0},level:{type:String,required:!0},hertz:{type:Number,required:!0},link:{type:String,required:!0},playerID:{type:c.Schema.Types.ObjectId,ref:"Player"},levelID:{type:c.Schema.Types.ObjectId,ref:"Level"}},{statics:{playerNameUpdate:function(e,n,t){return h(this,void 0,void 0,(function(){return p(this,(function(r){switch(r.label){case 0:return[4,this.updateMany({playerID:n},{$set:{player:t}}).session(e)];case 1:return r.sent(),[2]}}))}))},levelNameUpdate:function(e,n,t){return h(this,void 0,void 0,(function(){return p(this,(function(r){switch(r.label){case 0:return[4,this.updateMany({levelID:n},{$set:{level:t}}).session(e)];case 1:return r.sent(),[2]}}))}))}},methods:{cascadingDelete:function(e,n){return h(this,void 0,void 0,(function(){var t;return p(this,(function(r){switch(r.label){case 0:return[4,g.findByIdAndUpdate(this.levelID,{$pull:{records:this._id}}).session(e)];case 1:return t=r.sent(),1!==n?[3,3]:[4,$.findByIdAndUpdate(this.playerID,{$pull:{records:this._id},$inc:{points:-(null==t?void 0:t.points)}}).session(e)];case 2:return r.sent(),[3,5];case 3:return[4,$.findByIdAndUpdate(this.playerID,{$pull:{records:this._id}}).session(e)];case 4:r.sent(),r.label=5;case 5:return[4,this.deleteOne({session:e})];case 6:return r.sent(),[2]}}))}))}}});v.pre("save",(function(){return h(this,void 0,void 0,(function(){var e,n,t;return p(this,(function(r){switch(r.label){case 0:return e=this.$session(),[4,g.findOneAndUpdate({name:this.level},{$addToSet:{records:this._id}},{new:!0}).session(e)];case 1:if(null===(n=r.sent()))throw new Error("Level not found");return[4,$.findOneAndUpdate({name:this.player},{$addToSet:{records:this._id},$inc:{points:n.points}},{new:!0}).session(e)];case 2:if(null===(t=r.sent()))throw new Error("Player not found");return this.playerID=t._id,this.levelID=n._id,[2]}}))}))}));var y=new c.Schema({name:{type:String,required:!0},creator:{type:String,required:!0},position:{type:Number,required:!0},records:[{type:c.Schema.Types.ObjectId,ref:"Record"}]},{minimize:!1,toJSON:{virtuals:!0},toObject:{virtuals:!0},virtuals:{points:{get:function(){return this.position<=100?2250/(.37*this.position+9)-40:0}}},statics:{levelPoints:function(){return h(this,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return[4,this.find({position:{$lte:100}})];case 1:return[2,e.sent().map((function(e){return[e._id,e.points]}))]}}))}))}},methods:{add:function(e){return h(this,void 0,void 0,(function(){return p(this,(function(n){switch(n.label){case 0:return[4,g.updateMany({position:{$gte:this.position}},{$inc:{position:1}}).session(e)];case 1:return n.sent(),this.$session(e),[4,this.save()];case 2:return n.sent(),[2]}}))}))},del:function(e){return h(this,void 0,void 0,(function(){var n;return p(this,(function(t){switch(t.label){case 0:return[4,g.updateMany({position:{$gt:this.position}},{$inc:{position:-1}}).session(e)];case 1:return t.sent(),[4,this.populate("records")];case 2:return t.sent(),[4,this.records.forEach((function(n){return n.cascadingDelete(e)}))];case 3:return t.sent(),[4,this.deleteOne({session:e})];case 4:return t.sent(),[4,g.levelPoints()];case 5:return n=t.sent(),[4,$.updateAllPoints(e,n)];case 6:return t.sent(),[2]}}))}))},move:function(e,n){return h(this,void 0,void 0,(function(){var t;return p(this,(function(r){switch(r.label){case 0:return this.position>n?[4,g.updateMany({$and:[{position:{$gte:n}},{position:{$lt:this.position}}]},{$inc:{position:1}}).session(e)]:[3,2];case 1:return r.sent(),[3,4];case 2:return this.position<n?[4,g.updateMany({$and:[{position:{$lte:n}},{position:{$gt:this.position}}]},{$inc:{position:-1}}).session(e)]:[3,4];case 3:r.sent(),r.label=4;case 4:return[4,g.findByIdAndUpdate(this._id,{$set:{position:n}}).session(e)];case 5:return r.sent(),[4,g.levelPoints()];case 6:return t=r.sent(),[4,$.updateAllPoints(e,t)];case 7:return r.sent(),[2]}}))}))}}});y.pre("save",(function(){return h(this,void 0,void 0,(function(){var e,n;return p(this,(function(t){switch(t.label){case 0:return e=this.$session(),[4,g.levelPoints()];case 1:return n=t.sent(),[4,$.updateAllPoints(e,n)];case 2:return t.sent(),[2]}}))}))}));var b,m=new c.Schema({name:{type:String,required:!0},points:{type:Number,required:!0,default:0},discord:{type:Number},records:[{type:c.Schema.Types.ObjectId,ref:"Record"}]},{minimize:!1,toJSON:{virtuals:!0},toObject:{virtuals:!0},virtuals:{hertz:{get:function(){return h(this,void 0,void 0,(function(){var e,n,t,r;return p(this,(function(s){switch(s.label){case 0:return[4,this.populate("records","hertz")];case 1:for(s.sent(),e={},n=0,t=this.records;n<t.length;n++)r=t[n],e[r.hertz]=(e[r.hertz]||0)+1;return this.depopulate(),[2,e]}}))}))}},class:{get:function(){var e,n=this,t=[[1,"Legacy"],[50,"Class D"],[150,"Class C"],[300,"Class B"],[600,"Class A"],[1e3,"Class S"],[2e4,"Overlords"]];return(null!==(e=t.find((function(e){return n.points<e[0]})))&&void 0!==e?e:t[0])[1]}}},statics:{updateAllPoints:function(e,n){return h(this,void 0,void 0,(function(){var t,r,s,i,o;return p(this,(function(a){switch(a.label){case 0:return[4,this.find()];case 1:t=a.sent(),r=function(t){var r,s;return p(this,(function(i){switch(i.label){case 0:return[4,t.getCompletedLevels().then((function(e){return e.map((function(e){return e._id}))}))];case 1:if(r=i.sent(),s=n.filter((function(e){return r.includes(e[0])})).reduce((function(e,n){return e+n[1]}),0),t.points=s,null===t)throw 500;return t.$session(e),[4,t.save()];case 2:return i.sent(),[2]}}))},s=0,i=t,a.label=2;case 2:return s<i.length?(o=i[s],[5,r(o)]):[3,5];case 3:a.sent(),a.label=4;case 4:return s++,[3,2];case 5:return[2]}}))}))}},methods:{getCompletedLevels:function(){return h(this,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return[4,this.populate("records","levelID")];case 1:return e.sent(),[2,this.records.map((function(e){return g.findById(e.levelID)}))]}}))}))},updatePoints:function(e){return h(this,void 0,void 0,(function(){var n,t;return p(this,(function(r){switch(r.label){case 0:return[4,this.getCompletedLevels()];case 1:return n=r.sent(),t=n.map((function(e){return e.points})).reduce((function(e,n){return e+n}),0),this.points=t,this.$session(e),[4,this.save()];case 2:return r.sent(),[2]}}))}))},ban:function(e){return h(this,void 0,void 0,(function(){var n,t;return p(this,(function(r){switch(r.label){case 0:return[4,this.populate("records")];case 1:r.sent(),n=0,t=this.records,r.label=2;case 2:return n<t.length?[4,t[n].cascadingDelete(e)]:[3,5];case 3:r.sent(),r.label=4;case 4:return n++,[3,2];case 5:return[4,this.deleteOne({session:e})];case 6:return r.sent(),[2]}}))}))}}}),w=(0,c.model)("Record",v),g=(0,c.model)("Level",y),$=(0,c.model)("Player",m),O=function(e,n,t,r){return new(t||(t=Promise))((function(s,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var n;e.done?s(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,a)}u((r=r.apply(e,n||[])).next())}))},S=function(e,n){var t,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(o=0)),o;)try{if(t=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=n.call(e,o)}catch(e){a=[6,e],r=0}finally{t=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};o().config();var I=t()(),D=null!==(b=process.env.PORT)&&void 0!==b?b:3e3;I.set("query parser","simple"),I.use(s().urlencoded({extended:!0})),I.use(s().json()),I.use(u()()),I.use("/",t().static(f().resolve(__dirname,"../client")));var _=function(e,n,t){var r;if(e.headers.authorization&&(null!==(r=e.headers.authorization)&&void 0!==r?r:""!==process.env.BOT_TOKEN))return n.sendStatus(403);t()},P=function(e){return function(n,t){return O(void 0,void 0,void 0,(function(){var r,s,i,o,a;return S(this,(function(u){switch(u.label){case 0:return[4,l().startSession()];case 1:r=u.sent(),u.label=2;case 2:return u.trys.push([2,5,7,8]),r.startTransaction(),o=(i=t).sendStatus,[4,e(n,t,r)];case 3:return s=o.apply(i,[u.sent()]),[4,r.commitTransaction()];case 4:return u.sent(),[3,8];case 5:return a=u.sent(),[4,r.abortTransaction()];case 6:return u.sent(),s="number"==typeof a?t.sendStatus(a):t.sendStatus(500),[3,8];case 7:return r.endSession(),[2,s];case 8:return[2]}}))}))}};I.get("/levels",(function(e,n){return O(void 0,void 0,void 0,(function(){var e;return S(this,(function(t){switch(t.label){case 0:return[4,g.find({position:{$lte:100}}).lean().sort("position")];case 1:return e=t.sent(),[2,n.status(200).json(e)]}}))}))})),I.get("/levels/:name",(function(e,n){return O(void 0,void 0,void 0,(function(){var t;return S(this,(function(r){switch(r.label){case 0:return[4,g.findOne({name:e.params.name}).lean().populate("records","player hertz link playerID")];case 1:return t=r.sent(),[2,n.status(200).json(null==t?void 0:t.records)]}}))}))})),I.post("/levels",_,P((function(e,n,t){return O(void 0,void 0,void 0,(function(){return S(this,(function(n){switch(n.label){case 0:return[4,g.exists({name:e.body.name})];case 1:if(n.sent())throw 409;return[4,new g({name:e.body.name,creator:e.body.creator,position:e.body.position}).add(t)];case 2:return n.sent(),[2,201]}}))}))}))),I.delete("/levels/:name",_,P((function(e,n,t){return O(void 0,void 0,void 0,(function(){var n;return S(this,(function(r){switch(r.label){case 0:return[4,g.findOne({name:e.params.name})];case 1:if(null===(n=r.sent()))throw 404;return n.del(t),[2,200]}}))}))}))),I.patch("/levels/:name",_,P((function(e,n,t){return O(void 0,void 0,void 0,(function(){var n;return S(this,(function(r){switch(r.label){case 0:return void 0===e.body.newpos?[3,3]:[4,g.findOne({name:e.params.name})];case 1:if(null===(n=r.sent()))throw 404;return[4,n.move(t,e.body.newpos)];case 2:case 5:return r.sent(),[2,200];case 3:return void 0===e.body.newname?[3,6]:[4,g.findOneAndUpdate({name:e.params.name},{$set:{name:e.body.newname}}).session(t)];case 4:if(null===(n=r.sent()))throw 404;return[4,w.levelNameUpdate(t,n._id,e.body.newname)];case 6:return void 0===e.body.newcreator?[3,8]:[4,g.findOneAndUpdate({name:e.params.name},{$set:{creator:e.body.newcreator}}).session(t)];case 7:if(null===(n=r.sent()))throw 404;return[2,200];case 8:throw 400}}))}))}))),I.get("/players",(function(e,n){return O(void 0,void 0,void 0,(function(){var e;return S(this,(function(t){switch(t.label){case 0:return[4,$.find({points:{$gt:0}}).select("name points").lean().sort("-points")];case 1:return e=t.sent(),[2,n.status(200).json(e)]}}))}))})),I.get("/players/:name",(function(e,n){return O(void 0,void 0,void 0,(function(){var t;return S(this,(function(r){switch(r.label){case 0:return[4,$.findOne({name:e.params.name}).lean().populate("records","level hertz link levelID")];case 1:return[2,(t=r.sent())?n.status(200).json(t):n.status(404).send("Player not found.")]}}))}))})),I.post("/players",_,P((function(e,n,t){return O(void 0,void 0,void 0,(function(){var n;return S(this,(function(r){switch(r.label){case 0:return[4,$.exists({name:e.body.name})];case 1:if(r.sent())throw 409;return(n=new $({name:e.body.name,points:0})).$session(t),[4,n.save()];case 2:return r.sent(),[2,201]}}))}))}))),I.delete("/players/:name",_,P((function(e,n,t){return O(void 0,void 0,void 0,(function(){var n;return S(this,(function(r){switch(r.label){case 0:return[4,$.findOne({name:e.params.name})];case 1:if(null===(n=r.sent()))throw 404;return[4,n.ban(t)];case 2:return r.sent(),[2,200]}}))}))}))),I.patch("/players/:name",_,P((function(e,n,t){return O(void 0,void 0,void 0,(function(){var n;return S(this,(function(r){switch(r.label){case 0:return void 0===e.body.newname?[3,3]:[4,$.findOneAndUpdate({name:e.params.name},{$set:{name:e.body.newname}}).session(t)];case 1:if(null===(n=r.sent()))throw 404;return[4,w.playerNameUpdate(t,n._id,e.body.newname)];case 2:return r.sent(),[2,200];case 3:return void 0===e.body.newdiscord?[3,5]:[4,$.findOneAndUpdate({name:e.params.name},{$set:{discord:e.body.newdiscord}}).session(t)];case 4:if(null===(n=r.sent()))throw 404;return[2,200];case 5:throw 400}}))}))}))),I.post("/records",_,P((function(e,n,t){return O(void 0,void 0,void 0,(function(){var n,r;return S(this,(function(s){switch(s.label){case 0:return[4,$.exists({name:e.body.player})];case 1:return(n=!s.sent())?[3,3]:[4,g.exists({name:e.body.level})];case 2:n=!s.sent(),s.label=3;case 3:if(n)throw 404;if(void 0===e.body.hertz||void 0===e.body.link)throw 400;return(r=new w({player:e.body.player,level:e.body.level,hertz:e.body.hertz,link:e.body.link})).$session(t),[4,r.save()];case 4:return s.sent(),[2,201]}}))}))}))),I.delete("/records",_,P((function(e,n,t){return O(void 0,void 0,void 0,(function(){var n;return S(this,(function(r){switch(r.label){case 0:if(void 0===e.body.player||void 0===e.body.level)throw 400;return[4,w.findOne({player:e.body.player,level:e.body.level})];case 1:if(null===(n=r.sent()))throw 404;return[4,n.cascadingDelete(t,1)];case 2:return r.sent(),[2,200]}}))}))})));try{l().connect(process.env.MONGODB_TEST_URI)}catch(e){console.error(e)}I.listen(D,(function(){console.log("App listening at http://localhost:".concat(D))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WXZCLEVBQVFPLEdBQVksU0FBVU4sRUFBS0MsRUFBSzFGLEdBQVcsT0FBTyxPQUFVLE9BQVEsT0FBUSxHQUFRLFdBQy9HLElBQUl1SCxFQUNKLE9BQU8sRUFBWTlJLE1BQU0sU0FBVTBCLEdBQy9CLE9BQVFBLEVBQUdqQyxPQUNQLEtBQUssRUFDRCxRQUF3QitJLElBQXBCeEIsRUFBSTdILEtBQUt1QixhQUEyQzhILElBQW5CeEIsRUFBSTdILEtBQUsyQixNQUMxQyxNQUFNLElBQ1YsTUFBTyxDQUFDLEVBQUdzRixFQUFPOEIsUUFBUSxDQUNsQnhILE9BQVFzRyxFQUFJN0gsS0FBS3VCLE9BQ2pCSSxNQUFPa0csRUFBSTdILEtBQUsyQixTQUU1QixLQUFLLEVBRUQsR0FBZSxRQURmZ0ksRUFBU3BILEVBQUdoQyxRQUVSLE1BQU0sSUFDVixNQUFPLENBQUMsRUFBR29KLEVBQU8vRyxnQkFBZ0JSLEVBQVMsSUFDL0MsS0FBSyxFQUVELE9BREFHLEVBQUdoQyxPQUNJLENBQUMsRUFBRyxLQUV2QixHQUNKLEdBQUksS0FDSixJQUNJLFlBQWlCOEcsUUFBUUMsSUFBSXNDLGlCQUlqQyxDQUZBLE1BQU9DLEdBQ0hDLFFBQVFELE1BQU1BLEVBQ2xCLENBQ0ExQyxFQUFJNEMsT0FBTzNDLEdBQU0sV0FDYjBDLFFBQVFFLElBQUkscUNBQXFDQyxPQUFPN0MsR0FDNUQsRyIsInNvdXJjZXMiOlsid2VicGFjazovL21sc2l0ZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9tbHNpdGUvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vbWxzaXRlL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9tbHNpdGUvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9tbHNpdGUvZXh0ZXJuYWwgY29tbW9uanMgXCJleHByZXNzXCIiLCJ3ZWJwYWNrOi8vbWxzaXRlL2V4dGVybmFsIGNvbW1vbmpzIFwiYm9keS1wYXJzZXJcIiIsIndlYnBhY2s6Ly9tbHNpdGUvZXh0ZXJuYWwgY29tbW9uanMgXCJkb3RlbnZcIiIsIndlYnBhY2s6Ly9tbHNpdGUvZXh0ZXJuYWwgY29tbW9uanMgXCJjb3JzXCIiLCJ3ZWJwYWNrOi8vbWxzaXRlL2V4dGVybmFsIGNvbW1vbmpzIFwibW9uZ29vc2VcIiIsIndlYnBhY2s6Ly9tbHNpdGUvZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcInBhdGhcIiIsIndlYnBhY2s6Ly9tbHNpdGUvLi9zZXJ2ZXIvc3JjL3NjaGVtYS50cyIsIndlYnBhY2s6Ly9tbHNpdGUvLi9zZXJ2ZXIvc3JjL21haW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiZXhwcmVzc1wiKTsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcImJvZHktcGFyc2VyXCIpOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiZG90ZW52XCIpOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiY29yc1wiKTsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcIm1vbmdvb3NlXCIpOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwicGF0aFwiKTsiLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG5pbXBvcnQgeyBTY2hlbWEsIG1vZGVsIH0gZnJvbSBcIm1vbmdvb3NlXCI7XG52YXIgcmVjb3JkU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gICAgcGxheWVyOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBsZXZlbDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgaGVydHo6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGxpbms6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHBsYXllcklEOiB7IHR5cGU6IFNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiBcIlBsYXllclwiIH0sXG4gICAgbGV2ZWxJRDogeyB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogXCJMZXZlbFwiIH0sXG59LCB7XG4gICAgc3RhdGljczoge1xuICAgICAgICBwbGF5ZXJOYW1lVXBkYXRlOiBmdW5jdGlvbiAoc2Vzc2lvbiwgaWQsIG5ld25hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0LCB0aGlzLnVwZGF0ZU1hbnkoeyBwbGF5ZXJJRDogaWQgfSwgeyAkc2V0OiB7IHBsYXllcjogbmV3bmFtZSB9IH0pLnNlc3Npb24oc2Vzc2lvbildO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzJdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgbGV2ZWxOYW1lVXBkYXRlOiBmdW5jdGlvbiAoc2Vzc2lvbiwgaWQsIG5ld25hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0LCB0aGlzLnVwZGF0ZU1hbnkoeyBsZXZlbElEOiBpZCB9LCB7ICRzZXQ6IHsgbGV2ZWw6IG5ld25hbWUgfSB9KS5zZXNzaW9uKHNlc3Npb24pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBtZXRob2RzOiB7XG4gICAgICAgIGNhc2NhZGluZ0RlbGV0ZTogZnVuY3Rpb24gKHNlc3Npb24sIGp1c3RPbmUpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGV2ZWw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCwgTGV2ZWwuZmluZEJ5SWRBbmRVcGRhdGUodGhpcy5sZXZlbElELCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRwdWxsOiB7IHJlY29yZHM6IHRoaXMuX2lkIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuc2Vzc2lvbihzZXNzaW9uKV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWwgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoanVzdE9uZSA9PT0gMSkpIHJldHVybiBbMywgM107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCBQbGF5ZXIuZmluZEJ5SWRBbmRVcGRhdGUodGhpcy5wbGF5ZXJJRCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHB1bGw6IHsgcmVjb3JkczogdGhpcy5faWQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpbmM6IHsgcG9pbnRzOiAtKGxldmVsID09PSBudWxsIHx8IGxldmVsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBsZXZlbC5wb2ludHMpIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnNlc3Npb24oc2Vzc2lvbildO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMsIDVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOiByZXR1cm4gWzQsIFBsYXllci5maW5kQnlJZEFuZFVwZGF0ZSh0aGlzLnBsYXllcklELCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRwdWxsOiB7IHJlY29yZHM6IHRoaXMuX2lkIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuc2Vzc2lvbihzZXNzaW9uKV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gNTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTogcmV0dXJuIFs0LCB0aGlzLmRlbGV0ZU9uZSh7IHNlc3Npb246IHNlc3Npb24gfSldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzJdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICB9LFxufSk7XG5yZWNvcmRTY2hlbWEucHJlKFwic2F2ZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2Vzc2lvbiwgbGV2ZWwsIHBsYXllcjtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbiA9IHRoaXMuJHNlc3Npb24oKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCBMZXZlbC5maW5kT25lQW5kVXBkYXRlKHsgbmFtZTogdGhpcy5sZXZlbCB9LCB7ICRhZGRUb1NldDogeyByZWNvcmRzOiB0aGlzLl9pZCB9IH0sIHsgbmV3OiB0cnVlIH0pLnNlc3Npb24oc2Vzc2lvbildO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWwgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsZXZlbCA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkxldmVsIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCBQbGF5ZXIuZmluZE9uZUFuZFVwZGF0ZSh7IG5hbWU6IHRoaXMucGxheWVyIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYWRkVG9TZXQ6IHsgcmVjb3JkczogdGhpcy5faWQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW5jOiB7IHBvaW50czogbGV2ZWwucG9pbnRzIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB7IG5ldzogdHJ1ZSB9KS5zZXNzaW9uKHNlc3Npb24pXTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIHBsYXllciA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsYXllciA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlBsYXllciBub3QgZm91bmRcIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVySUQgPSBwbGF5ZXIuX2lkO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVsSUQgPSBsZXZlbC5faWQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufSk7XG52YXIgbGV2ZWxTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBjcmVhdG9yOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBwb3NpdGlvbjogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgcmVjb3JkczogW3sgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6IFwiUmVjb3JkXCIgfV0sXG59LCB7XG4gICAgbWluaW1pemU6IGZhbHNlLFxuICAgIHRvSlNPTjogeyB2aXJ0dWFsczogdHJ1ZSB9LFxuICAgIHRvT2JqZWN0OiB7IHZpcnR1YWxzOiB0cnVlIH0sXG4gICAgdmlydHVhbHM6IHtcbiAgICAgICAgcG9pbnRzOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbiA8PSAxMDBcbiAgICAgICAgICAgICAgICAgICAgPyAyMjUwIC8gKDAuMzcgKiB0aGlzLnBvc2l0aW9uICsgOSkgLSA0MFxuICAgICAgICAgICAgICAgICAgICA6IDA7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0sXG4gICAgc3RhdGljczoge1xuICAgICAgICBsZXZlbFBvaW50czogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBsZXZlbHM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCwgdGhpcy5maW5kKHsgcG9zaXRpb246IHsgJGx0ZTogMTAwIH0gfSldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldmVscyA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIsIGxldmVscy5tYXAoZnVuY3Rpb24gKGwpIHsgcmV0dXJuIFtsLl9pZCwgbC5wb2ludHNdOyB9KV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgbWV0aG9kczoge1xuICAgICAgICBhZGQ6IGZ1bmN0aW9uIChzZXNzaW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCwgTGV2ZWwudXBkYXRlTWFueSh7IHBvc2l0aW9uOiB7ICRndGU6IHRoaXMucG9zaXRpb24gfSB9LCB7ICRpbmM6IHsgcG9zaXRpb246IDEgfSB9KS5zZXNzaW9uKHNlc3Npb24pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2Vzc2lvbihzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIHRoaXMuc2F2ZSgpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlbDogZnVuY3Rpb24gKHNlc3Npb24pIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbHA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCwgTGV2ZWwudXBkYXRlTWFueSh7IHBvc2l0aW9uOiB7ICRndDogdGhpcy5wb3NpdGlvbiB9IH0sIHsgJGluYzogeyBwb3NpdGlvbjogLTEgfSB9KS5zZXNzaW9uKHNlc3Npb24pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCB0aGlzLnBvcHVsYXRlKFwicmVjb3Jkc1wiKV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCwgdGhpcy5yZWNvcmRzLmZvckVhY2goZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByLmNhc2NhZGluZ0RlbGV0ZShzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIHRoaXMuZGVsZXRlT25lKHsgc2Vzc2lvbjogc2Vzc2lvbiB9KV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCwgTGV2ZWwubGV2ZWxQb2ludHMoKV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbHAgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCBQbGF5ZXIudXBkYXRlQWxsUG9pbnRzKHNlc3Npb24sIGxwKV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMl07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBtb3ZlOiBmdW5jdGlvbiAoc2Vzc2lvbiwgcG9zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxwO1xuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHRoaXMucG9zaXRpb24gPiBwb3MpKSByZXR1cm4gWzMsIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCwgTGV2ZWwudXBkYXRlTWFueSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYW5kOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBwb3NpdGlvbjogeyAkZ3RlOiBwb3MgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgcG9zaXRpb246IHsgJGx0OiB0aGlzLnBvc2l0aW9uIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsgJGluYzogeyBwb3NpdGlvbjogMSB9IH0pLnNlc3Npb24oc2Vzc2lvbildO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMsIDRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHRoaXMucG9zaXRpb24gPCBwb3MpKSByZXR1cm4gWzMsIDRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCwgTGV2ZWwudXBkYXRlTWFueSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYW5kOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBwb3NpdGlvbjogeyAkbHRlOiBwb3MgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgcG9zaXRpb246IHsgJGd0OiB0aGlzLnBvc2l0aW9uIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsgJGluYzogeyBwb3NpdGlvbjogLTEgfSB9KS5zZXNzaW9uKHNlc3Npb24pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzQsIExldmVsLmZpbmRCeUlkQW5kVXBkYXRlKHRoaXMuX2lkLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzZXQ6IHsgcG9zaXRpb246IHBvcyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnNlc3Npb24oc2Vzc2lvbildO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIExldmVsLmxldmVsUG9pbnRzKCldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxwID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCwgUGxheWVyLnVwZGF0ZUFsbFBvaW50cyhzZXNzaW9uLCBscCldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzJdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICB9LFxufSk7XG5sZXZlbFNjaGVtYS5wcmUoXCJzYXZlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZXNzaW9uLCBscDtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbiA9IHRoaXMuJHNlc3Npb24oKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCBMZXZlbC5sZXZlbFBvaW50cygpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGxwID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIFBsYXllci51cGRhdGVBbGxQb2ludHMoc2Vzc2lvbiwgbHApXTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59KTtcbnZhciBwbGF5ZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBwb2ludHM6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSwgZGVmYXVsdDogMCB9LFxuICAgIGRpc2NvcmQ6IHsgdHlwZTogTnVtYmVyIH0sXG4gICAgcmVjb3JkczogW3sgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6IFwiUmVjb3JkXCIgfV0sXG59LCB7XG4gICAgbWluaW1pemU6IGZhbHNlLFxuICAgIHRvSlNPTjogeyB2aXJ0dWFsczogdHJ1ZSB9LFxuICAgIHRvT2JqZWN0OiB7IHZpcnR1YWxzOiB0cnVlIH0sXG4gICAgdmlydHVhbHM6IHtcbiAgICAgICAgaGVydHo6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJycywgX2ksIF9hLCByO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQsIHRoaXMucG9wdWxhdGUoXCJyZWNvcmRzXCIsIFwiaGVydHpcIildO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBycnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChfaSA9IDAsIF9hID0gdGhpcy5yZWNvcmRzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgciA9IF9hW19pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJyc1tyLmhlcnR6XSA9IChycnNbci5oZXJ0el0gfHwgMCkgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVwb3B1bGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIsIHJyc107XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgY2xhc3M6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIHZhciBjbGFzc2VzID0gW1xuICAgICAgICAgICAgICAgICAgICBbMSwgXCJMZWdhY3lcIl0sXG4gICAgICAgICAgICAgICAgICAgIFs1MCwgXCJDbGFzcyBEXCJdLFxuICAgICAgICAgICAgICAgICAgICBbMTUwLCBcIkNsYXNzIENcIl0sXG4gICAgICAgICAgICAgICAgICAgIFszMDAsIFwiQ2xhc3MgQlwiXSxcbiAgICAgICAgICAgICAgICAgICAgWzYwMCwgXCJDbGFzcyBBXCJdLFxuICAgICAgICAgICAgICAgICAgICBbMTAwMCwgXCJDbGFzcyBTXCJdLFxuICAgICAgICAgICAgICAgICAgICBbMjAwMDAsIFwiT3ZlcmxvcmRzXCJdLFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgcmV0dXJuICgoX2EgPSBjbGFzc2VzLmZpbmQoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIF90aGlzLnBvaW50cyA8IGNbMF07IH0pKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBjbGFzc2VzWzBdKVsxXTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBzdGF0aWNzOiB7XG4gICAgICAgIHVwZGF0ZUFsbFBvaW50czogZnVuY3Rpb24gKHNlc3Npb24sIGxwKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBsYXllcnMsIF9sb29wXzEsIF9pLCBwbGF5ZXJzXzEsIHA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCwgdGhpcy5maW5kKCldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcnMgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2xvb3BfMSA9IGZ1bmN0aW9uIChwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsZXZlbElEcywgcG9pbnRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQsIHBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5nZXRDb21wbGV0ZWRMZXZlbHMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGxldmVscykgeyByZXR1cm4gbGV2ZWxzLm1hcChmdW5jdGlvbiAobCkgeyByZXR1cm4gbC5faWQ7IH0pOyB9KV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXZlbElEcyA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRzID0gbHBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGxldmVsSURzLmluY2x1ZGVzKGVbMF0pOyB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlZHVjZShmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYSArIGJbMV07IH0sIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwLnBvaW50cyA9IHBvaW50cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHAgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyA1MDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAuJHNlc3Npb24oc2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCwgcC5zYXZlKCldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pID0gMCwgcGxheWVyc18xID0gcGxheWVycztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoX2kgPCBwbGF5ZXJzXzEubGVuZ3RoKSkgcmV0dXJuIFszLCA1XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwID0gcGxheWVyc18xW19pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzUsIF9sb29wXzEocCldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2krKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMsIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OiByZXR1cm4gWzJdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIG1ldGhvZHM6IHtcbiAgICAgICAgZ2V0Q29tcGxldGVkTGV2ZWxzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCwgdGhpcy5wb3B1bGF0ZShcInJlY29yZHNcIiwgXCJsZXZlbElEXCIpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyLCB0aGlzLnJlY29yZHMubWFwKGZ1bmN0aW9uIChyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTGV2ZWwuZmluZEJ5SWQoci5sZXZlbElEKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlUG9pbnRzOiBmdW5jdGlvbiAoc2Vzc2lvbikge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBsZXZlbHMsIHBvaW50cztcbiAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0LCB0aGlzLmdldENvbXBsZXRlZExldmVscygpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXZlbHMgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRzID0gbGV2ZWxzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGwpIHsgcmV0dXJuIGwucG9pbnRzOyB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhICsgYjsgfSwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2ludHMgPSBwb2ludHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2Vzc2lvbihzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIHRoaXMuc2F2ZSgpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGJhbjogZnVuY3Rpb24gKHNlc3Npb24pIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2ksIF9hLCByO1xuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQsIHRoaXMucG9wdWxhdGUoXCJyZWNvcmRzXCIpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2kgPSAwLCBfYSA9IHRoaXMucmVjb3JkcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoX2kgPCBfYS5sZW5ndGgpKSByZXR1cm4gWzMsIDVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIgPSBfYVtfaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCByLmNhc2NhZGluZ0RlbGV0ZShzZXNzaW9uKV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gNDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaSsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMywgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6IHJldHVybiBbNCwgdGhpcy5kZWxldGVPbmUoeyBzZXNzaW9uOiBzZXNzaW9uIH0pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfSxcbn0pO1xuZXhwb3J0IHZhciBSZWNvcmQgPSBtb2RlbChcIlJlY29yZFwiLCByZWNvcmRTY2hlbWEpO1xuZXhwb3J0IHZhciBMZXZlbCA9IG1vZGVsKFwiTGV2ZWxcIiwgbGV2ZWxTY2hlbWEpO1xuZXhwb3J0IHZhciBQbGF5ZXIgPSBtb2RlbChcIlBsYXllclwiLCBwbGF5ZXJTY2hlbWEpO1xuIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChnICYmIChnID0gMCwgb3BbMF0gJiYgKF8gPSAwKSksIF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xudmFyIF9hO1xuaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCBib2R5UGFyc2VyIGZyb20gXCJib2R5LXBhcnNlclwiO1xuaW1wb3J0IGVudiBmcm9tIFwiZG90ZW52XCI7XG5pbXBvcnQgY29ycyBmcm9tIFwiY29yc1wiO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcbmltcG9ydCB7IFJlY29yZCwgTGV2ZWwsIFBsYXllciB9IGZyb20gXCIuL3NjaGVtYVwiO1xuZW52LmNvbmZpZygpO1xudmFyIGFwcCA9IGV4cHJlc3MoKTtcbnZhciBwb3J0ID0gKF9hID0gcHJvY2Vzcy5lbnYuUE9SVCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMzAwMDtcbmFwcC5zZXQoXCJxdWVyeSBwYXJzZXJcIiwgXCJzaW1wbGVcIik7XG5hcHAudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuYXBwLnVzZShjb3JzKCkpO1xuYXBwLnVzZShcIi9cIiwgZXhwcmVzcy5zdGF0aWMocGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgXCIuLi9jbGllbnRcIikpKTtcbnZhciBhdXRoZWQgPSBmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24gJiZcbiAgICAgICAgKChfYSA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFwiXCIgIT09IHByb2Nlc3MuZW52LkJPVF9UT0tFTikpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zZW5kU3RhdHVzKDQwMyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBuZXh0KCk7XG4gICAgfVxufTtcbnZhciB0cmFuc2FjdGlvbiA9IGZ1bmN0aW9uIChmbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAocmVxLCByZXMpIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZXNzaW9uLCByZXN1bHQsIF9hLCBfYiwgY29kZV8xO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9jKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQsIG1vbmdvb3NlLnN0YXJ0U2Vzc2lvbigpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb24gPSBfYy5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIF9jLmxhYmVsID0gMjtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIF9jLnRyeXMucHVzaChbMiwgNSwgNywgOF0pO1xuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLnN0YXJ0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgX2IgPSAoX2EgPSByZXMpLnNlbmRTdGF0dXM7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCwgZm4ocmVxLCByZXMsIHNlc3Npb24pXTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9iLmFwcGx5KF9hLCBbX2Muc2VudCgpXSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCwgc2Vzc2lvbi5jb21taXRUcmFuc2FjdGlvbigpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCA4XTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGNvZGVfMSA9IF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCBzZXNzaW9uLmFib3J0VHJhbnNhY3Rpb24oKV07XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBfYy5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgY29kZV8xID09PSBcIm51bWJlclwiID8gcmVzLnNlbmRTdGF0dXMoY29kZV8xKSA6IHJlcy5zZW5kU3RhdHVzKDUwMCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMywgOF07XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmVuZFNlc3Npb24oKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyLCByZXN1bHRdO1xuICAgICAgICAgICAgICAgIGNhc2UgODogcmV0dXJuIFsyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7IH07XG59O1xuYXBwLmdldChcIi9sZXZlbHNcIiwgZnVuY3Rpb24gKHJlcSwgcmVzKSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBsZXZlbHM7XG4gICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCwgTGV2ZWwuZmluZCh7IHBvc2l0aW9uOiB7ICRsdGU6IDEwMCB9IH0pXG4gICAgICAgICAgICAgICAgICAgIC5sZWFuKClcbiAgICAgICAgICAgICAgICAgICAgLnNvcnQoXCJwb3NpdGlvblwiKV07XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgbGV2ZWxzID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiwgcmVzLnN0YXR1cygyMDApLmpzb24obGV2ZWxzKV07XG4gICAgICAgIH1cbiAgICB9KTtcbn0pOyB9KTtcbmFwcC5nZXQoXCIvbGV2ZWxzLzpuYW1lXCIsIGZ1bmN0aW9uIChyZXEsIHJlcykgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbGV2ZWw7XG4gICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCwgTGV2ZWwuZmluZE9uZSh7IG5hbWU6IHJlcS5wYXJhbXMubmFtZSB9KVxuICAgICAgICAgICAgICAgICAgICAubGVhbigpXG4gICAgICAgICAgICAgICAgICAgIC5wb3B1bGF0ZShcInJlY29yZHNcIiwgXCJwbGF5ZXIgaGVydHogbGluayBwbGF5ZXJJRFwiKV07XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgbGV2ZWwgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyLCByZXMuc3RhdHVzKDIwMCkuanNvbihsZXZlbCA9PT0gbnVsbCB8fCBsZXZlbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogbGV2ZWwucmVjb3JkcyldO1xuICAgICAgICB9XG4gICAgfSk7XG59KTsgfSk7XG5hcHAucG9zdChcIi9sZXZlbHNcIiwgYXV0aGVkLCB0cmFuc2FjdGlvbihmdW5jdGlvbiAocmVxLCByZXMsIHNlc3Npb24pIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGxldmVsO1xuICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQsIExldmVsLmV4aXN0cyh7IG5hbWU6IHJlcS5ib2R5Lm5hbWUgfSldO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGlmIChfYS5zZW50KCkpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IDQwOTtcbiAgICAgICAgICAgICAgICBsZXZlbCA9IG5ldyBMZXZlbCh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHJlcS5ib2R5Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0b3I6IHJlcS5ib2R5LmNyZWF0b3IsXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZXEuYm9keS5wb3NpdGlvbixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzQsIGxldmVsLmFkZChzZXNzaW9uKV07XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiwgMjAxXTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7IH0pKTtcbmFwcC5kZWxldGUoXCIvbGV2ZWxzLzpuYW1lXCIsIGF1dGhlZCwgdHJhbnNhY3Rpb24oZnVuY3Rpb24gKHJlcSwgcmVzLCBzZXNzaW9uKSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBsZXZlbDtcbiAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0LCBMZXZlbC5maW5kT25lKHsgbmFtZTogcmVxLnBhcmFtcy5uYW1lIH0pXTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBsZXZlbCA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICBpZiAobGV2ZWwgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IDQwNDtcbiAgICAgICAgICAgICAgICBsZXZlbC5kZWwoc2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyLCAyMDBdO1xuICAgICAgICB9XG4gICAgfSk7XG59KTsgfSkpO1xuYXBwLnBhdGNoKFwiL2xldmVscy86bmFtZVwiLCBhdXRoZWQsIHRyYW5zYWN0aW9uKGZ1bmN0aW9uIChyZXEsIHJlcywgc2Vzc2lvbikgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbGV2ZWwsIGxldmVsLCBsZXZlbDtcbiAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBpZiAoIShyZXEuYm9keS5uZXdwb3MgIT09IHVuZGVmaW5lZCkpIHJldHVybiBbMywgM107XG4gICAgICAgICAgICAgICAgcmV0dXJuIFs0LCBMZXZlbC5maW5kT25lKHsgbmFtZTogcmVxLnBhcmFtcy5uYW1lIH0pXTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBsZXZlbCA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICBpZiAobGV2ZWwgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IDQwNDtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzQsIGxldmVsLm1vdmUoc2Vzc2lvbiwgcmVxLmJvZHkubmV3cG9zKV07XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiwgMjAwXTtcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBpZiAoIShyZXEuYm9keS5uZXduYW1lICE9PSB1bmRlZmluZWQpKSByZXR1cm4gWzMsIDZdO1xuICAgICAgICAgICAgICAgIHJldHVybiBbNCwgTGV2ZWwuZmluZE9uZUFuZFVwZGF0ZSh7IG5hbWU6IHJlcS5wYXJhbXMubmFtZSB9LCB7ICRzZXQ6IHsgbmFtZTogcmVxLmJvZHkubmV3bmFtZSB9IH0pLnNlc3Npb24oc2Vzc2lvbildO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIGxldmVsID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgIGlmIChsZXZlbCA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgNDA0O1xuICAgICAgICAgICAgICAgIHJldHVybiBbNCwgUmVjb3JkLmxldmVsTmFtZVVwZGF0ZShzZXNzaW9uLCBsZXZlbC5faWQsIHJlcS5ib2R5Lm5ld25hbWUpXTtcbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyLCAyMDBdO1xuICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIGlmICghKHJlcS5ib2R5Lm5ld2NyZWF0b3IgIT09IHVuZGVmaW5lZCkpIHJldHVybiBbMywgOF07XG4gICAgICAgICAgICAgICAgcmV0dXJuIFs0LCBMZXZlbC5maW5kT25lQW5kVXBkYXRlKHsgbmFtZTogcmVxLnBhcmFtcy5uYW1lIH0sIHsgJHNldDogeyBjcmVhdG9yOiByZXEuYm9keS5uZXdjcmVhdG9yIH0gfSkuc2Vzc2lvbihzZXNzaW9uKV07XG4gICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgbGV2ZWwgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgaWYgKGxldmVsID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyA0MDQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyLCAyMDBdO1xuICAgICAgICAgICAgY2FzZSA4OiB0aHJvdyA0MDA7XG4gICAgICAgIH1cbiAgICB9KTtcbn0pOyB9KSk7XG5hcHAuZ2V0KFwiL3BsYXllcnNcIiwgZnVuY3Rpb24gKHJlcSwgcmVzKSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBwbGF5ZXJzO1xuICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQsIFBsYXllci5maW5kKHsgcG9pbnRzOiB7ICRndDogMCB9IH0pXG4gICAgICAgICAgICAgICAgICAgIC5zZWxlY3QoXCJuYW1lIHBvaW50c1wiKVxuICAgICAgICAgICAgICAgICAgICAubGVhbigpXG4gICAgICAgICAgICAgICAgICAgIC5zb3J0KFwiLXBvaW50c1wiKV07XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgcGxheWVycyA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIsIHJlcy5zdGF0dXMoMjAwKS5qc29uKHBsYXllcnMpXTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7IH0pO1xuYXBwLmdldChcIi9wbGF5ZXJzLzpuYW1lXCIsIGZ1bmN0aW9uIChyZXEsIHJlcykgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcGxheWVyO1xuICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQsIFBsYXllci5maW5kT25lKHsgbmFtZTogcmVxLnBhcmFtcy5uYW1lIH0pXG4gICAgICAgICAgICAgICAgICAgIC5sZWFuKClcbiAgICAgICAgICAgICAgICAgICAgLnBvcHVsYXRlKFwicmVjb3Jkc1wiLCBcImxldmVsIGhlcnR6IGxpbmsgbGV2ZWxJRFwiKV07XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgcGxheWVyID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiwgcGxheWVyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHJlcy5zdGF0dXMoMjAwKS5qc29uKHBsYXllcilcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcmVzLnN0YXR1cyg0MDQpLnNlbmQoXCJQbGF5ZXIgbm90IGZvdW5kLlwiKV07XG4gICAgICAgIH1cbiAgICB9KTtcbn0pOyB9KTtcbmFwcC5wb3N0KFwiL3BsYXllcnNcIiwgYXV0aGVkLCB0cmFuc2FjdGlvbihmdW5jdGlvbiAocmVxLCByZXMsIHNlc3Npb24pIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHBsYXllcjtcbiAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0LCBQbGF5ZXIuZXhpc3RzKHsgbmFtZTogcmVxLmJvZHkubmFtZSB9KV07XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgaWYgKF9hLnNlbnQoKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgNDA5O1xuICAgICAgICAgICAgICAgIHBsYXllciA9IG5ldyBQbGF5ZXIoe1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiByZXEuYm9keS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBwb2ludHM6IDAsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcGxheWVyLiRzZXNzaW9uKHNlc3Npb24pO1xuICAgICAgICAgICAgICAgIHJldHVybiBbNCwgcGxheWVyLnNhdmUoKV07XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiwgMjAxXTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7IH0pKTtcbmFwcC5kZWxldGUoXCIvcGxheWVycy86bmFtZVwiLCBhdXRoZWQsIHRyYW5zYWN0aW9uKGZ1bmN0aW9uIChyZXEsIHJlcywgc2Vzc2lvbikgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcGxheWVyO1xuICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQsIFBsYXllci5maW5kT25lKHsgbmFtZTogcmVxLnBhcmFtcy5uYW1lIH0pXTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBwbGF5ZXIgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllciA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgNDA0O1xuICAgICAgICAgICAgICAgIHJldHVybiBbNCwgcGxheWVyLmJhbihzZXNzaW9uKV07XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiwgMjAwXTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7IH0pKTtcbmFwcC5wYXRjaChcIi9wbGF5ZXJzLzpuYW1lXCIsIGF1dGhlZCwgdHJhbnNhY3Rpb24oZnVuY3Rpb24gKHJlcSwgcmVzLCBzZXNzaW9uKSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBwbGF5ZXIsIHBsYXllcjtcbiAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBpZiAoIShyZXEuYm9keS5uZXduYW1lICE9PSB1bmRlZmluZWQpKSByZXR1cm4gWzMsIDNdO1xuICAgICAgICAgICAgICAgIHJldHVybiBbNCwgUGxheWVyLmZpbmRPbmVBbmRVcGRhdGUoeyBuYW1lOiByZXEucGFyYW1zLm5hbWUgfSwgeyAkc2V0OiB7IG5hbWU6IHJlcS5ib2R5Lm5ld25hbWUgfSB9KS5zZXNzaW9uKHNlc3Npb24pXTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBwbGF5ZXIgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllciA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgNDA0O1xuICAgICAgICAgICAgICAgIHJldHVybiBbNCwgUmVjb3JkLnBsYXllck5hbWVVcGRhdGUoc2Vzc2lvbiwgcGxheWVyLl9pZCwgcmVxLmJvZHkubmV3bmFtZSldO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIsIDIwMF07XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgaWYgKCEocmVxLmJvZHkubmV3ZGlzY29yZCAhPT0gdW5kZWZpbmVkKSkgcmV0dXJuIFszLCA1XTtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzQsIFBsYXllci5maW5kT25lQW5kVXBkYXRlKHsgbmFtZTogcmVxLnBhcmFtcy5uYW1lIH0sIHsgJHNldDogeyBkaXNjb3JkOiByZXEuYm9keS5uZXdkaXNjb3JkIH0gfSkuc2Vzc2lvbihzZXNzaW9uKV07XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgcGxheWVyID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IDQwNDtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIsIDIwMF07XG4gICAgICAgICAgICBjYXNlIDU6IHRocm93IDQwMDtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7IH0pKTtcbmFwcC5wb3N0KFwiL3JlY29yZHNcIiwgYXV0aGVkLCB0cmFuc2FjdGlvbihmdW5jdGlvbiAocmVxLCByZXMsIHNlc3Npb24pIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hLCByZWNvcmQ7XG4gICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCwgUGxheWVyLmV4aXN0cyh7IG5hbWU6IHJlcS5ib2R5LnBsYXllciB9KV07XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgX2EgPSAhKF9iLnNlbnQoKSk7XG4gICAgICAgICAgICAgICAgaWYgKF9hKSByZXR1cm4gWzMsIDNdO1xuICAgICAgICAgICAgICAgIHJldHVybiBbNCwgTGV2ZWwuZXhpc3RzKHsgbmFtZTogcmVxLmJvZHkubGV2ZWwgfSldO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIF9hID0gIShfYi5zZW50KCkpO1xuICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBpZiAoX2EpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IDQwNDtcbiAgICAgICAgICAgICAgICBpZiAocmVxLmJvZHkuaGVydHogPT09IHVuZGVmaW5lZCB8fCByZXEuYm9keS5saW5rID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IDQwMDtcbiAgICAgICAgICAgICAgICByZWNvcmQgPSBuZXcgUmVjb3JkKHtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyOiByZXEuYm9keS5wbGF5ZXIsXG4gICAgICAgICAgICAgICAgICAgIGxldmVsOiByZXEuYm9keS5sZXZlbCxcbiAgICAgICAgICAgICAgICAgICAgaGVydHo6IHJlcS5ib2R5LmhlcnR6LFxuICAgICAgICAgICAgICAgICAgICBsaW5rOiByZXEuYm9keS5saW5rLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJlY29yZC4kc2Vzc2lvbihzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzQsIHJlY29yZC5zYXZlKCldO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIsIDIwMV07XG4gICAgICAgIH1cbiAgICB9KTtcbn0pOyB9KSk7XG5hcHAuZGVsZXRlKFwiL3JlY29yZHNcIiwgYXV0aGVkLCB0cmFuc2FjdGlvbihmdW5jdGlvbiAocmVxLCByZXMsIHNlc3Npb24pIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJlY29yZDtcbiAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBpZiAocmVxLmJvZHkucGxheWVyID09PSB1bmRlZmluZWQgfHwgcmVxLmJvZHkubGV2ZWwgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgNDAwO1xuICAgICAgICAgICAgICAgIHJldHVybiBbNCwgUmVjb3JkLmZpbmRPbmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyOiByZXEuYm9keS5wbGF5ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXZlbDogcmVxLmJvZHkubGV2ZWwsXG4gICAgICAgICAgICAgICAgICAgIH0pXTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICByZWNvcmQgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZCA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgNDA0O1xuICAgICAgICAgICAgICAgIHJldHVybiBbNCwgcmVjb3JkLmNhc2NhZGluZ0RlbGV0ZShzZXNzaW9uLCAxKV07XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiwgMjAwXTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7IH0pKTtcbnRyeSB7XG4gICAgbW9uZ29vc2UuY29ubmVjdChwcm9jZXNzLmVudi5NT05HT0RCX1RFU1RfVVJJKTtcbn1cbmNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xufVxuYXBwLmxpc3Rlbihwb3J0LCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc29sZS5sb2coXCJBcHAgbGlzdGVuaW5nIGF0IGh0dHA6Ly9sb2NhbGhvc3Q6XCIuY29uY2F0KHBvcnQpKTtcbn0pO1xuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGUiLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwicmVxdWlyZSIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwidmFsdWUiLCJzdGVwIiwibmV4dCIsImUiLCJyZWplY3RlZCIsInJlc3VsdCIsImRvbmUiLCJ0aGVuIiwiYXBwbHkiLCJfX2dlbmVyYXRvciIsImJvZHkiLCJmIiwieSIsInQiLCJnIiwiXyIsImxhYmVsIiwic2VudCIsInRyeXMiLCJvcHMiLCJ2ZXJiIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJ0aGlzIiwibiIsInYiLCJvcCIsIlR5cGVFcnJvciIsInBvcCIsImxlbmd0aCIsInB1c2giLCJyZWNvcmRTY2hlbWEiLCJTY2hlbWEiLCJwbGF5ZXIiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJsZXZlbCIsImhlcnR6IiwiTnVtYmVyIiwibGluayIsInBsYXllcklEIiwicmVmIiwibGV2ZWxJRCIsInN0YXRpY3MiLCJwbGF5ZXJOYW1lVXBkYXRlIiwic2Vzc2lvbiIsImlkIiwibmV3bmFtZSIsIl9hIiwidXBkYXRlTWFueSIsIiRzZXQiLCJsZXZlbE5hbWVVcGRhdGUiLCJtZXRob2RzIiwiY2FzY2FkaW5nRGVsZXRlIiwianVzdE9uZSIsIkxldmVsIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCIkcHVsbCIsInJlY29yZHMiLCJfaWQiLCJQbGF5ZXIiLCIkaW5jIiwicG9pbnRzIiwiZGVsZXRlT25lIiwicHJlIiwiJHNlc3Npb24iLCJmaW5kT25lQW5kVXBkYXRlIiwibmFtZSIsIiRhZGRUb1NldCIsIm5ldyIsIkVycm9yIiwibGV2ZWxTY2hlbWEiLCJjcmVhdG9yIiwicG9zaXRpb24iLCJtaW5pbWl6ZSIsInRvSlNPTiIsInZpcnR1YWxzIiwidG9PYmplY3QiLCJsZXZlbFBvaW50cyIsImZpbmQiLCIkbHRlIiwibWFwIiwibCIsImFkZCIsIiRndGUiLCJzYXZlIiwiZGVsIiwibHAiLCIkZ3QiLCJwb3B1bGF0ZSIsImZvckVhY2giLCJyIiwidXBkYXRlQWxsUG9pbnRzIiwibW92ZSIsInBvcyIsIiRhbmQiLCIkbHQiLCJwbGF5ZXJTY2hlbWEiLCJkZWZhdWx0IiwiZGlzY29yZCIsInJycyIsIl9pIiwiX2IiLCJkZXBvcHVsYXRlIiwiY2xhc3MiLCJfdGhpcyIsImNsYXNzZXMiLCJjIiwicGxheWVycyIsIl9sb29wXzEiLCJwbGF5ZXJzXzEiLCJwIiwibGV2ZWxJRHMiLCJnZXRDb21wbGV0ZWRMZXZlbHMiLCJsZXZlbHMiLCJmaWx0ZXIiLCJpbmNsdWRlcyIsInJlZHVjZSIsImIiLCJmaW5kQnlJZCIsInVwZGF0ZVBvaW50cyIsImJhbiIsIlJlY29yZCIsIm1vZGVsIiwiYXBwIiwicG9ydCIsInByb2Nlc3MiLCJlbnYiLCJQT1JUIiwic2V0IiwidXNlIiwiZXh0ZW5kZWQiLCJfX2Rpcm5hbWUiLCJhdXRoZWQiLCJyZXEiLCJyZXMiLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsIkJPVF9UT0tFTiIsInNlbmRTdGF0dXMiLCJ0cmFuc2FjdGlvbiIsImZuIiwiY29kZV8xIiwiX2MiLCJzdGFydFRyYW5zYWN0aW9uIiwiY29tbWl0VHJhbnNhY3Rpb24iLCJhYm9ydFRyYW5zYWN0aW9uIiwiZW5kU2Vzc2lvbiIsImxlYW4iLCJzb3J0Iiwic3RhdHVzIiwianNvbiIsImZpbmRPbmUiLCJwYXJhbXMiLCJwb3N0IiwiZXhpc3RzIiwiZGVsZXRlIiwicGF0Y2giLCJ1bmRlZmluZWQiLCJuZXdwb3MiLCJuZXdjcmVhdG9yIiwic2VsZWN0Iiwic2VuZCIsIm5ld2Rpc2NvcmQiLCJyZWNvcmQiLCJNT05HT0RCX1RFU1RfVVJJIiwiZXJyb3IiLCJjb25zb2xlIiwibGlzdGVuIiwibG9nIiwiY29uY2F0Il0sInNvdXJjZVJvb3QiOiIifQ==